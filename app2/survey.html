<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="node_modules/jquery-ui/dist/themes/base/jquery-ui.css"
    />
    <style>
      #custom_handle {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -0.8em;
        text-align: center;
        line-height: 1.6em;
      }
    </style>
  </head>
  <body>
    <!-- <div id="slider">
      <div id="custom_handle" class="ui-slider-handle"></div>
    </div>
    <p>Date: <input type="text" id="datepicker" /></p>

    <form action="#">
      <fieldset>
        <label for="speed">Select a speed</label>
        <select name="speed" id="speed">
          <option>Slower</option>
          <option>Slow</option>
          <option selected="selected">Medium</option>
          <option>Fast</option>
          <option>Faster</option>
        </select>

        <label for="files">Select a file</label>
      
        </select>
      </fieldset>
    </form> -->

    <div id="survey-container">
      <h2 id="question"></h2>
      <div id="answers"></div>
      <button id="previous">Previous</button>
      <button id="next">Next</button>
      <button id="submit">Submit</button>
    </div>
    <script src="node_modules/jquery//dist/jquery.js"></script>
    <script src="node_modules/jquery-ui/dist/jquery-ui.js"></script>
    <script>
      //   $(function () {
      //     var handle = $("#custom_handle");
      //     $("#slider").slider({
      //       range: "min",
      //       min: 0,
      //       max: 5000,
      //       value: 0,
      //       create: function () {
      //         handle.text($(this).slider("value"));
      //       },
      //       slide: function (event, ui) {
      //         console.log(ui.value);
      //         handle.text(ui.value);
      //       },
      //     });
      //     $("#datepicker").datepicker();
      //     $( "#speed" ).selectmenu();
      //   });
      $(document).ready(() => {
        displayQuestion();
      });
      var questions = [
        {
          question: "What is the capital of France?",
          answers: ["New York", "London", "Paris", "Dublin"],
          correct: 2,
          selected: null,
        },
        {
          question: "Which country is known as the Land of the Rising Sun?",
          answers: ["Australia", "Japan", "China", "India"],
          correct: 1,
          selected: null,
        },
        {
          question: "What is the largest island in the world?",
          answers: ["Greenland", "New Guinea", "Borneo", "Madagascar"],
          correct: 0,
          selected: null,
        },
      ];

      var currentQuestion = 0;

      const displayQuestion = () => {
        let q = questions[currentQuestion];
        $("#question").text(q.question);
        $("#answers").empty();
        for (let i = 0; i < q.answers.length; i++) {
          $("#answers").append(
            `<input type="radio" id="answer${i}" name="answer" value="${i}" ${
              q.selected == i ? "checked" : ""
            } ><label for="answers${i}">${q.answers[i]}</label><br>`
          );
        }
        // $('#answers input[type="radio"]').checkboxradio();
        if (currentQuestion === 0) {
          $("#previous").hide("fade", 500);
        } else {
          $("#previous").show("fade", 500);
        }
        if (currentQuestion === questions.length - 1) {
          $("#next").hide("fade", 500);
          $("#submit").show("fade", 500);
        } else {
          $("#next").show("fade", 500);
          $("#submit").hide("fade", 500);
        }
      };

      $("#next").click(() => {
        let selectedAnswer = $('input[name="answer"]:checked').val();
        currentQuestion++;
        console.log("selectedAnswer:", selectedAnswer);
        console.log("currentQuestion", questions[currentQuestion]);
        questions[currentQuestion].selected = selectedAnswer;
        displayQuestion();
      });
      $("#previous").click(() => {
        let selectedAnswer = $('input[name="answer"]:checked').val();
        currentQuestion--;
        console.log("selectedAnswer:", selectedAnswer);
        console.log("currentQuestion", questions[currentQuestion]);
        questions[currentQuestion].selected = selectedAnswer;
        displayQuestion();
      });
    </script>
  </body>
</html>
